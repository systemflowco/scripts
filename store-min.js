(()=>{class a{constructor(a){this.store=a,this.storeName=a.dataset.sysflowStore,this.form=a.querySelector("form"),this.inputs=this.form?this.form.querySelectorAll("input"):null,this.data={},this.savedData=localStorage.getItem(this.storeName),this.assignEvents()}assignEvents(){this.inputs&&(this.getSavedData(),this.listenToInputs())}listenToInputs(){this.inputs.forEach(a=>{a.addEventListener("keyup",this.getInputData.bind(this))})}getInputData(){this.data={},this.inputs.forEach(a=>{this.data[a.name]=a.value}),this.saveData()}getSavedData(){this.savedData&&(this.data=JSON.parse(this.savedData),this.inputs.forEach(a=>{let b=this.data[a.name];b&&(a.value=b)}))}saveData(){localStorage.setItem(this.storeName,JSON.stringify(this.data))}}const b=document.querySelectorAll("[data-sysflow-store]");b.length&&b.forEach(b=>{new a(b)})})();