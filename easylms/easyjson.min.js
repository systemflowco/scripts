const ej_api="https://app.easytools.pl/api/json",easy_json={logged(){const t=easy_json.getProductId();return window._EC_USER_ID&&window[t]},getProductId:()=>Object.keys(window).filter(function(t){return~t.indexOf("_EC_")&&!~t.indexOf("_EC_USER_ID")}),async patch(t,s=!1){if(!easy_json.logged())return void(window.easyJSON={});const o=window._EC_USER_ID,e=easy_json.getProductId()[0];let n=t;s||(n={...window.easyJSON,...t});const i=await fetch(`${ej_api}/${o}`,{mode:"cors",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:JSON.stringify(n),stripeId:e})}),{data:a}=await i.json();return window.easyJSON=a||{},a},async get(){if(!easy_json.logged())return window.easyJSON={},void document.addEventListener("DOMContentLoaded",function(t){new LogTost});const t=window._EC_USER_ID,s=easy_json.getProductId()[0],o=await fetch(`${ej_api}/${t}?stripeId=${s}`,{mode:"cors",method:"GET",headers:{"Content-Type":"application/json"}}),e=await o.json();window.easyJSON=e||{}}};class LogTost{constructor(){this.logTost=document.createElement("div"),this.logTostHtml='\n                <div class="toast-header">\n                    <div class="popup-title">Jesteś niezalogowany</div>\n                    <div data-ec-toast-close class="material-icons icon-close">close</div>\n                </div>\n                <div>\n                    <div class="body-text m s-m-b-0">\n                        Zaloguj się do easyCart aby Twoje postępy zostały zapisane\n                    </div>\n                    <div class="ctas-wrapper">\n                        <a href="#" class="button small w-inline-block">\n                            <div class="button-text">Zaloguj</div>\n                        </a>\n                        <div class="button-separator"></div>\n                        <a href="#" class="button small outline w-inline-block">\n                            <div data-ec-toast-close class="button-text">Anuluj</div>\n                        </a>\n                    </div>\n                </div>\n     ',this.KEY_LOGIN="LOGIN.TOAST",this.assignEvents()}assignEvents(){const t=localStorage.getItem(this.KEY_LOGIN);t||this.appendTost()}appendTost(){this.logTost.innerHTML=this.logTostHtml,this.logTost.classList.add("toast"),this.logTost.style.cssText+="position: fixed; bottom: 28px;  right: 12px; opacity: 0; transition: all 0.3s;",document.body.append(this.logTost),setTimeout(this.showTost.bind(this),100),this.logTost.querySelectorAll("[data-ec-toast-close]").forEach(t=>{t.addEventListener("click",this.removeTost.bind(this))})}removeTost(){this.hideTost(),setTimeout(()=>{this.logTost.remove()},300)}showTost(){this.logTost.style.opacity=1,this.logTost.style.bottom="48px"}hideTost(){this.logTost.style.opacity=0,this.logTost.style.bottom="28px"}saveTost(){localStorage.setItem(this.KEY_LOGIN,!0)}}const newEvent=new Event("easyJsonReady");easy_json.get().then(()=>{document.dispatchEvent(newEvent)}).catch(()=>{document.dispatchEvent(newEvent)});