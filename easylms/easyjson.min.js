const ej_api="https://app.easytools.pl/api/json",easy_json={logged(){const t=easy_json.getProductId();return window._EC_USER_ID&&window[t]},getProductId:()=>"{{ids}}",async patch(t,s=!1){if(!easy_json.logged())return void(window.easyJSON={});await easy_json.get();const o=window._EC_USER_ID,e=easy_json.getProductId();let a=t;s||(a={...window.easyJSON,...t});const i=await fetch(`${ej_api}/${o}`,{mode:"cors",method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:JSON.stringify(a),stripeId:e})}),{data:n}=await i.json();return window.easyJSON=n||{},n},async get(){if(!easy_json.logged())return window.easyJSON={},void document.addEventListener("DOMContentLoaded",function(t){new LogTost});const t=window._EC_USER_ID,s=easy_json.getProductId(),o=await fetch(`${ej_api}/${t}?stripeId=${s}`,{mode:"cors",method:"GET",headers:{"Content-Type":"application/json"}}),e=await o.json();404!==e.statusCode&&500!==e.statusCode&&(window.easyJSON=e||{})}};class LogTost{constructor(){this.logTost=document.createElement("div"),this.logTostHtml=`\n                <div class="toast-header">\n                    <div class="popup-title">Zaloguj się aby nie utracić postępów!</div>\n                    <div data-ec-toast-close class="material-icons icon-close">close</div>\n                </div>\n                <div>\n                    <div class="body-text m s-m-b-0">\n                    Abyśmy mogli zapisać Twoje postępy między sesjami, musisz być zalogowany do swojego konta EasyCart. Dane logowania znajdziesz w mailu który przesłaliśmy po uzyskaniu dostępu do kursu. Możesz także zresetować hasło.\n                    </div>\n                    <div class="ctas-wrapper">\n                        <a href="https://app.easycart.pl/logowanie?redirect=${encodeURI(window.location)}" class="button small w-inline-block">\n                            <div class="button-text">Zaloguj się</div>\n                        </a>\n                    </div>\n                </div>\n     `,this.KEY_LOGIN="LOGIN.TOAST",this.assignEvents()}assignEvents(){const t=sessionStorage.getItem(this.KEY_LOGIN);t||this.appendTost()}appendTost(){this.logTost.innerHTML=this.logTostHtml,this.logTost.classList.add("toast"),this.logTost.style.cssText+="position: fixed; top: -12px;  left: 50%; bottom: auto; z-index: 1001; transform: translateX(-50%); opacity: 0; transition: all 0.3s;",document.body.append(this.logTost),setTimeout(this.showTost.bind(this),100),this.logTost.querySelectorAll("[data-ec-toast-close]").forEach(t=>{t.addEventListener("click",this.removeTost.bind(this))}),this.saveTost()}removeTost(){this.hideTost(),setTimeout(()=>{this.logTost.remove()},300)}showTost(){this.logTost.style.opacity=1,this.logTost.style.top="12px"}hideTost(){this.logTost.style.opacity=0,this.logTost.style.top="-12px"}saveTost(){sessionStorage.setItem(this.KEY_LOGIN,!0)}}const newEvent=new Event("easyJsonReady");easy_json.get().then(()=>{document.dispatchEvent(newEvent)}).catch(()=>{document.dispatchEvent(newEvent)});