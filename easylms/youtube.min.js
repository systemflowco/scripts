function onYouTubeIframeAPIReady(){const e=document.querySelector("[data-easylms-video]");var o=/.*(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/gi;const t=window.easyLmsInfo.lessonVideo.replace(o,"$1"),n=`https://www.youtube.com/embed/${t}?enablejsapi=1&origin=${location.origin}&modestbranding=1&showinfo=0&rel=0`;e.setAttribute("src",n),e.id="youtubePlayer",createYoutubePlayer(e.id)}function createYoutubePlayer(e){function o(e){setInterval(()=>{const e=a.getCurrentTime();$(document).trigger("videoProgress",e)},5e3),a.playVideo(),$(document).on("goToVideoSecond",(e,o)=>{a.seekTo(o)}),$(document).trigger("playerReady"),$(document).on("setPlaybackRate",(e,o)=>{a.setPlaybackRate(o)})}function t(e){console.log(e)}function n(e){e.data==YT.PlayerState.ENDED&&$(document).trigger("finishLesson")}let a=new YT.Player(e,{playerVars:{showInfo:0,modestbranding:1},events:{onReady:o,onStateChange:n,onPlaybackRateChange:t}})}(()=>{if(!window.easyLmsInfo.lessonVideo.includes("youtu"))return;const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)})();