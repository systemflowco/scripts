function getYoutubeVideoId(e){var t=/.*(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/gi;return e.replace(t,"$1")}function getVimeoVideoId(e){var t=/.*(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|event\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?\/?(.*)/i;return e.replace(t,"$1")}function getVimeoVideoHash(e){var t=/.*(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/(?:[^\/]*)\/videos\/|album\/(?:\d+)\/video\/|video\/|event\/|)(\d+)(?:[a-zA-Z0-9_\-]+)?\/?(.*)/i;return e.replace(t,"$2")}const lmsVideos=document.querySelectorAll("[data-easylms-video]");lmsVideos.forEach(e=>{let t=e.getAttribute("src"),o="";if(t.includes("youtu")){let e=getYoutubeVideoId(t);o=`https://www.youtube.com/embed/${e}?enablejsapi=1&origin=${location.origin}&modestbranding=1&showinfo=0&rel=0`}if(t.includes("vimeo")){let e=getVimeoVideoId(t),i=getVimeoVideoHash(t);o=`https://player.vimeo.com/video/${e}${i?"?h="+i:""}`}lmsEvent.setAttribute("src",o)});const lmsEvent=document.querySelector("[data-easylms-video-event]");if(lmsEvent){let e=lmsEvent.getAttribute("src"),t="";if(e.includes("youtu")){let o=getYoutubeVideoId(e);t=`https://www.youtube.com/embed/${o}?enablejsapi=1&origin=${location.origin}&modestbranding=1&showinfo=0&rel=0`}if(e.includes("vimeo")){let o=getVimeoVideoId(e),i=getVimeoVideoHash(e);t=`https://vimeo.com/event/${o}${i?"?h="+i:""}/embed`}lmsEvent.setAttribute("src",t)}const lmsChat=document.querySelector("[data-easylms-video-chat]");if(lmsChat){let e=chat.getAttribute("src"),t="";if(e.includes("youtu")){let o=getYoutubeVideoId(e);t=`https://www.youtube.com/live_chat?v=${o}&embed_domain=${location.host}`}if(e.includes("vimeo")){let o=getVimeoVideoId(e);t=`https://vimeo.com/event/${o}/chat`}lmsChat.setAttribute("src",t)}