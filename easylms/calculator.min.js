(()=>{class e{constructor(e){this.items=document.querySelectorAll(".pricing-checkbox-header"),this.countItems=document.querySelectorAll(".checkbox-counter-value"),this.startPrice=+document.querySelector(".price-big").innerText.split("zł")[0],this.startMonthPrice=0,this.totalPrice=0,this.totalMonthPrice=0,this.priceTable=document.querySelector(".pricing-summary"),this.monthPriceTable=document.querySelector(".monthly"),this.assignEvents()}assignEvents(){this.checkAllPrices(),this.items.forEach(e=>{e.querySelector(".w-checkbox").addEventListener("click",this.checkAllPrices.bind(this))}),this.countItems.forEach(e=>{let t=e.parentElement.querySelectorAll("a");t[0].addEventListener("click",this.changeAmount.bind(this,e,-1)),t[1].addEventListener("click",this.changeAmount.bind(this,e,1))})}checkAllPrices(){this.totalPrice=this.startPrice,this.clearPriceTable(),this.totalMonthPrice=this.startMonthPrice,this.clearMonthPriceTable(),this.checkSinglePrices(),this.priceTable.querySelector(".summary-item-price.big").innerText=`${this.totalPrice} zł netto`,this.monthPriceTable.querySelector(".summary-item-price.big").innerText=`${this.totalMonthPrice} zł`}checkSinglePrices(){this.items.forEach(e=>{let t=e.querySelector("input[type=checkbox]").checked;if(t){let t=e.querySelector(".checkbox-custom-label").innerText,i=e.querySelector(".price-service"),c=i?+i.innerText:0,r=e.querySelector(".price-monthly"),l=r?+r.innerText:0,s=e.querySelector(".checkbox-counter-value"),n=s?+s.innerText:1;c&&(this.totalPrice+=c*n,this.addPriceToTable(n>1?t+" x "+n:t,c*n)),l&&(this.totalMonthPrice+=l*n,this.addMonthPriceToTable(n>1?t+" x "+n:t,l*n))}})}addPriceToTable(e,t){const i=`<li class="summary-list-item"><div class="summary-item-name">${e}</div><div class="summary-item-price">${t} zł</div></li>`;this.priceTable.querySelector("ol").innerHTML+=i}addMonthPriceToTable(e,t){const i=`<li class="summary-list-item"><div class="summary-item-name">${e}</div><div class="summary-item-price">${t} zł</div></li>`;this.monthPriceTable.querySelector("ol").innerHTML+=i}clearPriceTable(){const e=this.priceTable.querySelector("ol").children[0].outerHTML;this.priceTable.querySelector("ol").innerHTML=e}clearMonthPriceTable(){this.monthPriceTable.querySelector("ol").innerHTML=""}changeAmount(e,t){let i=+e.innerText,c=i+t;e.innerText=c>-1?c:0,c>0?e.parentElement.querySelector("a").classList.remove("disabled"):e.parentElement.querySelector("a").classList.add("disabled"),this.updateCheckboxState(e),this.checkAllPrices()}updateCheckboxState(e){let t=e.closest(".pricing-checkbox-header").querySelector("input[type=checkbox]"),i=t.checked;+e.innerText>0&&!i&&t.click(),+e.innerText<=0&&i&&t.click()}}document.addEventListener("DOMContentLoaded",function(t){new e})})();