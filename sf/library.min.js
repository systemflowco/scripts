(()=>{class t{constructor(){this.copyBtns=document.querySelectorAll("[data-copy-btn]"),this.banner=document.querySelector("[data-banner]"),this.assignEvents()}assignEvents(){this.copyBtns.length&&this.copyBtns.forEach(t=>{t.addEventListener("click",this.copyComponent.bind(this,t))})}copyComponent(t){const e=t.closest("[data-component]"),n=e.querySelector("[data-name]").innerText,o=e.querySelector("[data-slug]").innerText,s=`https://systemflowco.github.io/scripts/sf13/${o}.json`,a=t.querySelector(".button-text");a.innerText="Coping ...",fetch(s).then(t=>t.ok?t.text():new Promise((e,n)=>n(t.text()))).then(t=>{window.addEventListener("copy",this.copyJson.bind(this)),window.wfCopyJsonData=t,document.execCommand("copy")}).catch(t=>{this.showBanner("Something went wrong. Please refresh browser and try again!")}).finally(()=>{a.innerText="Copy",this.showBanner(`Component ${n} copied successfully`)})}copyJson(t){t&&t.clipboardData&&(t.clipboardData.setData("application/json",window.wfCopyJsonData),t.preventDefault()),window.removeEventListener("copy",copyJson)}showBanner(t){this.banner.querySelector(".body-text").innerText=t,this.banner.style.display="flex",setTimeout(()=>{this.banner.style.opacity="1",this.banner.style.top="0px"},100),setTimeout(()=>{this.banner.style.opacity="0",this.banner.style.top="-10px",setTimeout(()=>{this.banner.style.display="none"},300)},3e3)}}document.addEventListener("DOMContentLoaded",function(e){new t})})();